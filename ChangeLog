*** 20010603_3 by db
patch sent in by Walter Campbell
1.  Document that USE_CRYPT is enabled by default
2.  Fix an issue where people could telnet to the tcm and not type
    anything.  Those people would see everything that an oper would.
    I changed it so that sensitive data is only sent to remote TCM's
    if they were NOT pending connections (meaning fully registered)

Simple change of -1 to INVALID for consistency -db



*** 20010603_2 by greg
Two simple bugfixes.

- (from Walter Campbell) oper before doing a /stats O; some servers may
  make use of OLINES_OPER_ONLY, or similar.
- (pointed out by KrON/ogre) fixed a nifty core where islegal_pass() fell
  off the edge of the userlist array.

(hum, maybe we should do something when spoofed opers msg the bot .chat?
I can see this being a) an information leak if tcm is not opers_only, and
b) a problem when a person uses .chat, but their oline is for their spoof)


*** 20010603_1 by db
Submitted by Walter Campbell <wcampbel@botbay.net>

My "commit" message:

1.  Makes numerous commands that can give away information oper only
2.  The oper only conf line is in tcm.cf, not userlist.cf
3.  FLAGS on comstud servers was missing a +
4.  Documentation cleanup
5.  fixed a couple compiler errors when wingate checking is enabled
6.  Fixed another small issue with the opers only option
7.  Added a small piece of debug code to the tcm.cf conf parser
8.  Fixed a MAJOR security hole in .action

The 1st and 8th are big, and in my opinion should warrant a new
release, with whatever bug fixes greg decides to throw in.



*** 20010602_2 by greg
.. this one got missed.

- FLAGS +SOME +UNGODLY +NUMBER +OF +INDIVIDUAL +FLAGS -> FLAGS +ALL
  (ircd-comstud compat.)


*** 20010602_1 by greg
Well kids, my first CVS commit. Be afraid or something.

Some cleanup before I do some in-depth stuff.
- removed the capability to msg a tcm .clones, it's kind of
  silly considering we dump it to the channel and stuff.
- removed a few extraneous msg_mychannel()'s that were randomly
  dumping "  [etc.]" to the TCM's channel, and personally scaring
  the hell out of me when I randomly see my TCM speak.

Build check done.


*** 20010403_2 by db
- corrected drone code to honour autopilot as well
- corrected examples.



*** 20010403_1 by db
- removed extra print to opers about cfloods
- fixed spam warning to suggest .kspam



*** 20010402_2 by db
- action must specifically say "warn" or no warning is given at all



*** 20010402_1 by db
- cleaned up the logging, no more 0 length log files
- renamed clone_log to just log, its a generic log
- re-added back autopilot
- added new tcm.cf flag "D" for deny i.e. opers only
- oper deny /dcc will not show ip any more of tcm
- bumped version up
- tested on irc.ins.net.uk



*** 20010221_1 by wcampbel
Misc. documentation updates
Release version 2.5.2, as a number of things have been done since 2.5.1
release


*** 20010203_2 by wcampbel
Format string bugs...
We must find out what that 0 byte log file bug is...even if it means
ripping out the mail code...


*** 20010203_1 by wcampbel
Massive cleanup part 4 of 4.  tcm compiles cleanly (except for the version
variables) with -Wall -Wunused...... and SHOULD be pretty clean now.  I'll
run it through lint soon, then will start going through and cleaning up the
rest of the code.  We'll see how it goes...

Oh, I forgot to mention I added usermode +l to the MODE command it sends to
the server when it connects.  This allows tcm to see LOCOPS messages when
it is run against a Hybrid 7 server.


*** 20010202_1 by wcampbel
Massive cleanup part 3


*** 20010201_6 by wcampbel
Gotta stop coding when I'm tired....DEBUGMODE, not DEBUG...


*** 20010201_5 by wcampbel
Compiler warning cleanup part 3


*** 20010201_4 by wcampbel
Massive Cleanup, part 2


*** 20010201_3 by wcampbel
Don't remove the .pref's and logs on a make clean...
use make cleandata for that...


*** 20010201_2 by wcampbel
bah... damn typo


*** 20010201_1 by wcampbel
Massive compiler warning cleanup, part 1


*** 20010131_2 by wcampbel
Brought the configure script up to date


*** 20010131_1 by wcampbel
Major docs cleanup
Minor bug fixes with the tokenizing code, and the commands parser


*** 20010123_1 by wcampbel
pwd.h isn't needed for a password encrypter


*** 20010114_1 by wcampbel
Documented the weird bug that spookey and I have been trying to debug


*** 20010113_1 by wcampbel
1. Added a missing \n to the DCC CHAT msg()
2. Fixed the if's in local_ip() so that it will actually return a valid
   IP for the DCC CHAT message


*** 20001209_1 by bill

- fixed suggested_host in suggest_kill_kline()


*** 20001208_2 by bill

- medium sized overhaul
- fixed link looker detection buffer overrun
- fixed local kill client exiting buffer overrun
- added CFLOOD action
  (for connect flooding drones which have been a problem lately)
- finalizing ircd-comstud compatibility modifications


*** 20001204_1 by bill

- added F lines (violation specific E lines)
- fixed parsing error with SQUIT/server disconnect msgs
- changed .locops source to (nick) rather than (nick@tcm)


*** 20001201_3 by bill

- more comstud stuff


*** 20001201_2 by bill

- working on comstud compatibility still


*** 20001201_1 by bill

- added more compatibility for ircd-comstud (hello ik!)


*** 20001110_2 by bill

Permission error, fixed.
Added a note to comstud users for making tcm work properly into tcm.cf


*** 20001110_1 by bill

Added support for ircd-comstud-1.11REL
 -Compatibility for different syntaxed messages (trace, client connects, etc)
 -Compatibility for non-numerical connection class identifications (and numerical still)
 -Updated wingate class code accordingly

Bumped version to 2.5.1


*** 20000930_1 by bill

changed comment for DETECT_DNS_SPOOFERS
turned DETECT_DNS_SPOOFERS off by default


*** 20000902_9 by db
- discovered I had a previously released 2.4.7, bumped to 2.5.0 again
  to reduce confusion.



*** 20000902_8 by db
- doc cleanups only, but I bumped the version # to reduce confusion.



*** 20000902_7 by db
Directory /cvsroot/tcm-hybrid/HISTORY added to the repository


*** 20000902_6 by lusky
cleaned up Makefiles and converted to autoconf


*** 20000902_5 by lusky
fixed SERIALNUM
started autoconf work
added .depend


*** 20000902_4 by lusky
Directory /cvsroot/tcm-hybrid/autoconf added to the repository


*** 20000902_3 by lusky
added SERIALNUM support


*** 20000902_2 by lusky
Directory /cvsroot/tcm-hybrid/include added to the repository


