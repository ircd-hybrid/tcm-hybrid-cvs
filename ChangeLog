db          2001/12/11 02:00:57 EST	(20011211_0)

  Modified files:
    modules              commands.c 
    src                  userlist.c 
  Log:
  - reformatted commands.c
  - rewrote config file handling in userlist.c.
  
  Revision  Changes    Path
  1.33      +4 -4      tcm-hybrid/modules/commands.c
  1.38      +222 -279  tcm-hybrid/src/userlist.c



bill        2001/12/07 15:06:16 EST	(20011207_0)

  Modified files:
    modules              bothunt.c serverif.c 
  Log:
  - fixed +W flag
  - fixed spambot detection
  
  Revision  Changes    Path
  1.45      +2 -2      tcm-hybrid/modules/bothunt.c
  1.36      +2 -2      tcm-hybrid/modules/serverif.c



*** 20011204_2 by bill

- upped patchlevel to 3.0.2


*** 20011204_1 by bill

- added detection for rapid reconnects
  note: the thresholds for this are rather aggressive,
        to change them you must edit include/bothunt.h


*** 20011129_1 by bill

- fixed bug in okhost()
- fixed exemptions
- fixed bug in .k<action> commands when <action> is warn
  (providing a nick caused core)


*** 20011128_1 by bill

- fixed bug in connect flood detection


*** 20011127_1 by wcampbel
Add kills_klines.log to .cvsignore


*** 20011126_1 by bill

- added optional duration to .k<action> commands
- .k<action> commands' action will default to kline for "warn"


*** 20011124_1 by bill

- made +W affect LOCOPS viewing in addition to OPERWALL
- made +W off by default, define ENABLE_W_FLAG in include/config.h
  to enable
- fixed improper format bug in commands.c
- fixed typo in do_a_kline() -- found by plan9
- fixed bug in .kline (and added optional duration) -- also found by plan9


*** 20011123_4 by wcampbel
Paste broke up a string line


*** 20011123_3 by wcampbel
More cleanups, no XXX's this time


*** 20011123_2 by wcampbel
More code cleanup, more XXX's


*** 20011123_1 by wcampbel
TCM Cleanups.  Look at the XXX's for more details.
Moved report_multi*() to be static functions in modules/commands.c,
  as they are only used there, and don't appear to depend on anything
  else.


*** 20011114_1 by bill

- fixed bug with server buffer initialization


*** 20011110_3 by bill
- set MAX_ARGV to 80 to account for extra long OPERWALLs
- proc() cleanups
- list_user*() cleanups
- fixed : bug in tcm.cf's M:
- rdpt() cleanups


*** 20011110_2 by wcampbel
More cleanups


*** 20011110_1 by wcampbel
Some more cleanups...
I XXX'ed out some functions, check to see if they are not used


*** 20011109_2 by wcampbel
Fix make lint
Minor cleanups


*** 20011109_1 by wcampbel
Bunched all the SERVICES defines together, requested by paulsen


*** 20011108_1 by bill
- added ability to specify install directory with ./configure --prefix
  (documented, aren't you proud hwy?)
- turned OPERS_ONLY on by default
- fixed bug in rdpt() causing incoming buffers from differing fds to be
  switched with one-another
- fixed bug in check_host_clones() and check_virtual_host_clones() that
  would print unitialized variables
- fixed .vlist so the user part of <[user@]ip> works properly.  you may now:
   .vlist 255.2?5.*  or .vlist ~*@255.2?5.*
  (documented this, too.  I am on a role!)
- added the "has disconnected" notice back from wherever it went


*** 20011107_1 by wcampbel
Document some items more clearly.
Disable HOW_TO_MAIL by default.
Add in zartik's suggested command for HOW_TO_MAIL on FreeBSD and OpenBSD.


*** 20011105_2 by wcampbel
Updated some documentation, spotted by paulsen <erik@pentadon.com>


*** 20011105_1 by wcampbel
Documentation corrections from paulsen <erik@pentadon.com>


*** 20011102_1 by db
- fixed core dump on linkclosed
- various cleanups with argv nonsense



*** 20011031_1 by bill

- added NULL checking in find_banned_host()


*** 20011030_4 by bill

- removed obsolete autopilot
- fixed .raw/.quote


*** 20011030_3 by wcampbel
Minor documentation fix


*** 20011030_2 by bill

- added checking for SUN ld, -export-dynamic caused breakage on solaris


*** 20011030_1 by bill

- fixed parse error in .testline response.  k-line notice argv[] was off by 2


*** 20011029_7 by bill

- fixed bug in gline request/trigger parsing


*** 20011029_6 by bill

- added ability to specify user with ipmask in .vlist
   you can now: .vlist some.net.block.* (or .vlist *@some.net.block.*)
                .vlist user@some.net.block.*
                etc


*** 20011029_5 by wcampbel
Added a logs .cvsignore file


*** 20011029_4 by wcampbel
More cleanups


*** 20011029_3 by wcampbel
Fixed some format string bugs
And did a couple things for safety (added precaution against FSB's)


*** 20011029_2 by wcampbel
Update of the help files


*** 20011029_1 by bill

- fixec vclone detection to only call suggest_action() if the idents are the same


*** 20011028_11 by wcampbel
Removed the last remnants of placed


*** 20011028_10 by db
- more cleanups



*** 20011028_9 by db
- removed placed
- redid server message handling lookup table
- redid argv[] catenation



*** 20011028_8 by wcampbel
Removed a little more crud
Made a small change for correctness


*** 20011028_7 by wcampbel
Documentation update:
Corrected an error in README-WINGATES
Updated and remove specific values from README


*** 20011028_6 by wcampbel
TYPE_CAN_REMOTE is gone (BLOAT!)


*** 20011028_5 by wcampbel
<dollar>Id<dollar>'ed everything properly
Removed more crud related to linking and remote tcm opers
Other general cleanups


*** 20011028_4 by wcampbel
Removed TYPE_TCM and all it's related trash


*** 20011028_3 by wcampbel
Cleaned up more cruft/lint/moldy code/BLOAT


*** 20011028_2 by wcampbel
Removed the BUGS list that Bill created.
Documented that I repo-moved tcm.check into tools/


*** 20011028_1 by wcampbel
More cleanups


*** 20011027_6 by wcampbel
Document .testline........<sigh>


*** 20011027_5 by bill
- fixed ping timeout bug.  we now reset last_ping_time whenever we read data


*** 20011027_4 by bill
- fixed duplicated \001\n in ping reply


*** 20011027_3 by bill
- fixed more warnings


*** 20011027_2 by db
- yet more cleanups.
  add_action called with too many args. 
  moved function prototypes into tcm.h



*** 20011027_1 by db
- Yet more tcm cleanups



*** 20011026_11 by wcampbel
Added etc/.cvsignore


*** 20011026_10 by bill
- removed generation of 'rude' default Makefile on distclean


*** 20011026_9 by wcampbel
Updated the INSTALL document


*** 20011026_8 by wcampbel
Fixed modules/.depend


*** 20011026_7 by wcampbel
Massive code cleanup - no more warnings in modules/*.c
Fixed some format string bugs and an if (... = ...)
Added modules/.cvsignore


*** 20011026_6 by db
- corrected typos, it runs...



*** 20011026_5 by db
- cleanups, these mallocs were not needed at all.



*** 20011026_4 by bill
- fixed all warnings caused by src/ files
- updated dependancy files
- fixes for modules/ warnings to come


*** 20011026_3 by bill
- missing string.h which caused warnings on compile


*** 20011026_2 by bill
- fixed "is now an operator" notice


*** 20011026_1 by db
- got rid of unnecessary mallocs and frees
- make function names stand out on own line
- just a bunch of cleanups



*** 20011024_3 by wcampbel
Document .help umode


*** 20011024_2 by bill

- forgot to duplicate bugfix in its other locations


*** 20011024_1 by bill

- minor bugfix in if() caused by unexpected disconnect


*** 20011023_2 by bill
- updated default M: to goto http://www.ircd-hybrid.org/tcm/


*** 20011023_1 by bill
- found and fixed mem leak
- fixed parse error in server link/unlink messages


*** 20011020_1 by db
- First pass of cleanups, if remote tcm is no longer supported
  all the code needed for that is not needed!



*** 20011017_4 by wcampbel
Correction, that was .restart, not .rehash


*** 20011017_3 by wcampbel
Added .restart.  It works but does not properly clean up connections.
  Someone who knows current tcm code better will need to handle this.
Removed the less than polite Makefile.  There is no reason for it...
  If people cannot run ./configure, they shouldn't be running the service
  in the first place.  This Makefile also interferes with cvs update's and
  commits if you don't make distclean first.


*** 20011017_2 by wcampbel
Doc cleanups
Minor cosmetic code cleanups
configure now takes the current working directory and sets it to DPATH, this
  is used when starting so that it chdir's into there BEFORE trying to use
  the conf files.  This will allow the tcm to be started from any directory,
  not just in the root of the source tree.  The side effect is that users
  will have to build in place...they cannot build then move the tree elsewhere.
  This will also be used for RESTART.


*** 20011017_1 by bill

- whoop, first in what is sure to be series of typo fixes (argv[9] needed where argv[6] was)


*** 20011016_2 by bill
- got rid of tcm linking userlist flags
  (note: once and for all, tcm link support is *gone*)
  it needs to be rewritten, and taking it out was motivation for me to redo it
- replaced old E: lines in userlist.cf with what were once known as F: lines
- updated connection flooding to handle "Invalid username" notices as well as
  X-line rejection notices
- added capability to detect network splits/joins and inform SEND_WARN_ONLY users
- added G-line support (for monitoring, I have yet to decide if tcm opers should have control over
  voting on G-lines)
- REHASH notice still doesn't seem to work.  I have absolutely no idea why.. anyone?
- added logging of "Failed OPER attempt" notices, also inform SEND_WARN_ONLY users
- added logging of "has just acquired the personality of a ..." notices, and again, inform
  SEND_WARN_ONLY users
- rewrote okhost() to be action specific; the rules are as follows:
   cflood  -- ident -> ident@host          no ident -> ~*@host
   vclone  -- ident -> ident@ip.block.0/24 no ident -> ~*@ip.block.0/24
   flood   -- ident -> ident@*.domain      no ident -> ~*@host
   link    -- ident -> ident@host          no ident -> ~*@host
   bot     -- ident -> ident@*.domain      no ident -> ~*@host
   ctcp    -- ident -> ident@*.domain      no ident -> ~*@host
   spambot -- ident -> ident@*.domain      no ident -> ~*@host
   clone   -- ident -> *@host              no ident -> ~*@host
   sclone  -- ident -> *@host              no ident -> ~*@host
   drone   -- ident -> *@host              no ident -> ~*@host
   wingate -- ident -> *@host              no ident -> ~*@host
   socks   -- ident -> *@host              no ident -> ~*@host
    (note: I would like these to be, at some point, #define'able or even better, configurable
           in the config file(s).  Dynamic configuration, like .action, would be the next step
           to this, too.)


*** 20011016_1 by bill
- first step of major comit -- updated to correct action names
                            -- updated user flags (and added +e/+p to userlist)


*** 20011013_4 by bill
- document updates
- connection flooders always klined ident@<whatever> even if there is no ident


*** 20011013_3 by bill
- stat() caused core.  to hell with it.


*** 20011013_2 by bill
- changed around .vbots and .vmulti to maintain format of .bots and .hmulti


*** 20011013_1 by bill
- added supposed mem leak to BUGS
- rewrote .save to replace tcm.cf rather than making its own file
- removed obsolete .load
- updated dependancy file


*** 20011011_14 by bill

- line break where there shouldn't be one


*** 20011011_13 by db
- reverted missing tokens in commands.c



*** 20011011_12 by db
- no its 9 chars, it really does have a space after the '>'



*** 20011011_11 by db
There are 8 letters in "Wingate>" not 9
(pointed out by Zike on EFnet)



*** 20011011_10 by bill

- damn debug statements


*** 20011011_9 by bill
- finalized updates.  we are ready for a release.


*** 20011011_8 by bill
- made .kclone/.kbot/etc conform to their respective .actions
- more help file updates


*** 20011011_7 by wcampbel
Cleanup of the example tcm.cf (add A:sclone: and A:drones: => A:drone: )


*** 20011011_6 by bill
- Taske is all over these help file updates


*** 20011011_5 by bill
- More updating help files
- Fixed Unauthorized client connection SNOTICE bug


*** 20011011_4 by bill
- Thanks to Taske (irc.daxnet.no admin) for pointing out multiple typos
  and formatting mistakes
- Fixed .vbots to correct threshold
- Ultimate robustness (yes, it is a word now) in .action
- Removed .hlist and .ulist from help files (the commands were removed some
  time ago, use .list *@host or .list user@*)


*** 20011011_3 by bill
- I never remember to remove my fripping debug statements


*** 20011011_2 by bill

- minor typo in .vmulti


*** 20011011_1 by bill

- redid add_common_function() to properly initialize each linked list


*** 20011010_2 by bill
- oops forgot to remove a debug statement


*** 20011010_1 by bill
- die on KLINE/DLINE
- Made DCC connects O_NONBLOCKing
- rewrote .action to be as robust/multi-syntaxed as I can possibly make it
- fixed = from being added to exempt list in spoofed I-lines
- spoofed hosts now shown in .whom and STATS p rather than real hosts
- .chat connects are now treated the same as DCC (printed MOTD, greeting, etc)
- actions are now properly read from the config file
- fixed .chat bug in BUGS file requiring both spoofed and real hostname being added to the userlist.cf



*** 20011009_3 by bill

- fixed typo


*** 20011009_2 by bill
- forgot to commit fix for dcc bug (non resolving ips didnt always work)
- suggest_host() now includes type, so we can suggest a host based on what
  we are klining for


*** 20011009_1 by bill

- implemented fully .modload, .modunload, .modreload
- updated out-of-date dependency file


*** 20011008_2 by wcampbel
Cosmetic cleanup of the help files


*** 20011008_1 by wcampbel
Fix for .help.  ".help    admin" still doesn't work, but it's not a big
concern for right now.


*** 20011004_2 by wcampbel
Cosmetic fix of LOCOPS/WALLOPS/OPERWALL handling.


*** 20011004_1 by bill

- fixed .opers
- fixed .locops (and WALLOP parsing)
- removed obsolete spoof detection code
- improved Makefile.in to remove *all* logs on distclean


*** 20011003_1 by wcampbel
Fixed .umulti and .hmulti once and for all.


*** 20011001_1 by bill

- fixed to run on fbsd
- dcc chat works 50/50, some problem with makeconn() getting the proper address


*** 20010922_5 by wcampbel
Fixed FreeBSD compiles, I'll test on Linux in a minute, then test to make
sure that two tcm's on both platforms will work


*** 20010922_4 by bill
- freebsd likes making things difficult for me, as always.


*** 20010922_3 by bill
- already found a bug, heh.  this fixes cwd problem in *bsd


*** 20010922_2 by bill

- removed unneeded files


*** 20010922_1 by bill
- completed modularization and adaptation (finally!)
- upped version to 3.0.1


*** 20010921_1 by bill
- modularization is almost finished
  todo: make sure all actions have been correctly implemented
        make sure wingate/socks detection still works


*** 20010920_2 by bill
- more work towards modularizing
   info:  tcm now gets online.  working on ctcp/privmsg/notice handling to
          get dcc chat working.


*** 20010920_1 by bill
- fixed modules
- began to rewrite most functions to use connnum, argc, argv format
- hooray, only busy work until completion


*** 20010919_4 by bill
- thanks to larne for advice regarding compiling modules.  they now load
  semi-succesfully

  current problem: undefined symbols in loading each module.  suggestions?


*** 20010919_3 by bill
- adding very needed files


*** 20010919_2 by bill
- heh oops.  turned off DEBUGMODE by default


*** 20010919_1 by bill
- another major leaped towards modularization
   current brokenness: 
    ELF file's phentsize not the expected size
   for all modules on load


*** 20010918_2 by bill
- first commit towards modularization
  note: this tcm does *not* work, and yes I know it compiles

TODO:
  I need to finish updating the files in modules/ to work as (un)loadable
  modules, and to work independently of one another.

Please do not send this copy out.


*** 20010918_1 by bill
Directory /cvsroot/tcm-hybrid/modules added to the repository


*** 20010906_1 by bill
- fixed lag caused by many simultaneous SOCKS connection attempts


*** 20010902_1 by bill
- fixed threshold.. we have to -= 2 for some reason in all the report_?multi()s


*** 20010901_2 by bill
- cosmetic fix, removed extra space in LOCOPS logging


*** 20010901_1 by bill
- fixed lag caused by wingate/socks detection


*** 20010829_3 by bill
- fixed socks detection (since when does fstat() return 0 on failure?)
- fixed .quit bug


*** 20010829_2 by bill
 oopsie forget those were there ::smirk::


*** 20010829_1 by bill
- fixed an overshot buffer in the new i/o code
- fixed a threshhold miscalc (you had to -1 to get the correct output)


*** 20010826_2 by bill
- still from W. Campbell's patch
  forgot to remove extra space in kill message


*** 20010826_1 by bill
- added a modified patch by W. Campbell:
   fixes a few typos
   adds idle time to DCC .whom output
   replaces class_name in usage output to <class name> (it looks prettier, dunchya know?)


*** 20010815_2 by bill
- do not need to report offenders twice per offense.


*** 20010815_1 by bill
- more robust makefile to avoid problems if the binary is moved around


*** 20010813_1 by leeh
- updated make distclean to remove binaries


*** 20010729_1 by bill

- fixed SOCKS detection
- a problem on my hard-disk required me to touch * in the tcm-hybrid dir
   (not all of these files were actually changed)
- fixed #ifdefs for statically declared wingate_class type functions
   (they only checked for DETECT_WINGATE, and not DETECT_SOCKS)



*** 20010728_1 by bill

- first step towards fixing proxy checking
   (currently, wingate detect works, proxy detection does not)

- once and for all, replaced stupid byte-per-recv() socket reading with
  an actual buffer


*** 20010723_1 by wcampbel
Replace all sprintf's with more secure snprintf's


*** 20010722_15 by wcampbel
This is all I can do to fix SOCKS detection.  It now gets into socks_bindsocket
but fails inside.


*** 20010722_14 by wcampbel
Fixed the tcm.check crontab script


*** 20010722_13 by wcampbel
Add .quote/.raw commands.  They are disabled by default, and not
saupported by the developers.


*** 20010722_12 by wcampbel
Fixed a couple bugs spotted by Stephen Olsen (Inglish) with .action


*** 20010722_11 by wcampbel
Remove the old strdup code (1990!!!)
Store the pid file in etc/


*** 20010722_10 by wcampbel
Add a .cvsignore to bin/
Change the documentation to reference bin/


*** 20010722_9 by wcampbel
The binaries go into bin/, not ./, this also fixes a dependency issue


*** 20010722_8 by wcampbel
Directory /usr/cvsroot/tcm-hybrid/bin added to the repository


*** 20010722_7 by wcampbel
Made tcm work with getopt for command line arguments.
This WILL break any installations that use ./tcm conf.file
They will have to use ./tcm -f conf.file or just use the standard tcm.cf
name.


*** 20010722_6 by wcampbel
Keep all logs in the logs/ directory.


*** 20010722_5 by wcampbel
Move the pref files and the cf's (and the motd) to the etc directory
and document as such in INSTALL


*** 20010722_4 by wcampbel
Fix make lint in the tools/ Makefile


*** 20010722_3 by wcampbel
Updated dependencies


*** 20010722_2 by wcampbel
Updated .cvsignore's


*** 20010722_1 by wcampbel
Split out the version info into patchlevel.h


*** 20010721_4 by wcampbel
Made tcm work with the repo-move to src/
I believe it's good to go now


*** 20010721_3 by wcampbel
This is the code to support the help files in a subdirectory.
The repo-move will be done as soon as I finish this commit


*** 20010721_2 by wcampbel
I did a repo-move for the *.h files into include/
This is what else needed to be done to make it work...
Next is the icky src files...


*** 20010721_1 by wcampbel
Add a few more bugs to the BUGS list
Add a check for crypt.h, needed for some (lame) Linux distributions


*** 20010703_1 by wcampbel
Add in the .cvsignore files


*** 20010702_2 by wcampbel
Cleaned up some things lint found
Added make lint
Changed rand/srand to random/srandom


*** 20010702_1 by wcampbel
Fixed my last typo in ChangeLog


*** 20010619_1 by wcampbel
Migrated to the same mkpasswd we use in hyb7 and hyb6


*** 20010618_1 by kreator
- Solaris uses mblk_t from sys/stream.h for sys/socketvar.h; i've added
  necessary tests and includes in source to fix compile


*** 20010617_1 by jdc
- bothunt.c, logging.c: Linux needs time.h (patch by Hwy).


*** 20010614_1 by db
- just upped version



*** 20010603_3 by db
patch sent in by W. Campbell
1.  Document that USE_CRYPT is enabled by default
2.  Fix an issue where people could telnet to the tcm and not type
    anything.  Those people would see everything that an oper would.
    I changed it so that sensitive data is only sent to remote TCM's
    if they were NOT pending connections (meaning fully registered)

Simple change of -1 to INVALID for consistency -db



*** 20010603_2 by greg
Two simple bugfixes.

- (from W. Campbell) oper before doing a /stats O; some servers may
  make use of OLINES_OPER_ONLY, or similar.
- (pointed out by KrON/ogre) fixed a nifty core where islegal_pass() fell
  off the edge of the userlist array.

(hum, maybe we should do something when spoofed opers msg the bot .chat?
I can see this being a) an information leak if tcm is not opers_only, and
b) a problem when a person uses .chat, but their oline is for their spoof)


*** 20010603_1 by db
Submitted by W. Campbell <wcampbel@botbay.net>

My "commit" message:

1.  Makes numerous commands that can give away information oper only
2.  The oper only conf line is in tcm.cf, not userlist.cf
3.  FLAGS on comstud servers was missing a +
4.  Documentation cleanup
5.  fixed a couple compiler errors when wingate checking is enabled
6.  Fixed another small issue with the opers only option
7.  Added a small piece of debug code to the tcm.cf conf parser
8.  Fixed a MAJOR security hole in .action

The 1st and 8th are big, and in my opinion should warrant a new
release, with whatever bug fixes greg decides to throw in.



*** 20010602_2 by greg
.. this one got missed.

- FLAGS +SOME +UNGODLY +NUMBER +OF +INDIVIDUAL +FLAGS -> FLAGS +ALL
  (ircd-comstud compat.)


*** 20010602_1 by greg
Well kids, my first CVS commit. Be afraid or something.

Some cleanup before I do some in-depth stuff.
- removed the capability to msg a tcm .clones, it's kind of
  silly considering we dump it to the channel and stuff.
- removed a few extraneous msg_mychannel()'s that were randomly
  dumping "  [etc.]" to the TCM's channel, and personally scaring
  the hell out of me when I randomly see my TCM speak.

Build check done.


*** 20010403_2 by db
- corrected drone code to honour autopilot as well
- corrected examples.



*** 20010403_1 by db
- removed extra print to opers about cfloods
- fixed spam warning to suggest .kspam



*** 20010402_2 by db
- action must specifically say "warn" or no warning is given at all



*** 20010402_1 by db
- cleaned up the logging, no more 0 length log files
- renamed clone_log to just log, its a generic log
- re-added back autopilot
- added new tcm.cf flag "D" for deny i.e. opers only
- oper deny /dcc will not show ip any more of tcm
- bumped version up
- tested on irc.ins.net.uk



*** 20010221_1 by wcampbel
Misc. documentation updates
Release version 2.5.2, as a number of things have been done since 2.5.1
release


*** 20010203_2 by wcampbel
Format string bugs...
We must find out what that 0 byte log file bug is...even if it means
ripping out the mail code...


*** 20010203_1 by wcampbel
Massive cleanup part 4 of 4.  tcm compiles cleanly (except for the version
variables) with -Wall -Wunused...... and SHOULD be pretty clean now.  I'll
run it through lint soon, then will start going through and cleaning up the
rest of the code.  We'll see how it goes...

Oh, I forgot to mention I added usermode +l to the MODE command it sends to
the server when it connects.  This allows tcm to see LOCOPS messages when
it is run against a Hybrid 7 server.


*** 20010202_1 by wcampbel
Massive cleanup part 3


*** 20010201_6 by wcampbel
Gotta stop coding when I'm tired....DEBUGMODE, not DEBUG...


*** 20010201_5 by wcampbel
Compiler warning cleanup part 3


*** 20010201_4 by wcampbel
Massive Cleanup, part 2


*** 20010201_3 by wcampbel
Don't remove the .pref's and logs on a make clean...
use make cleandata for that...


*** 20010201_2 by wcampbel
bah... damn typo


*** 20010201_1 by wcampbel
Massive compiler warning cleanup, part 1


*** 20010131_2 by wcampbel
Brought the configure script up to date


*** 20010131_1 by wcampbel
Major docs cleanup
Minor bug fixes with the tokenizing code, and the commands parser


*** 20010123_1 by wcampbel
pwd.h isn't needed for a password encrypter


*** 20010114_1 by wcampbel
Documented the weird bug that spookey and I have been trying to debug


*** 20010113_1 by wcampbel
1. Added a missing \n to the DCC CHAT msg()
2. Fixed the if's in local_ip() so that it will actually return a valid
   IP for the DCC CHAT message


*** 20001209_1 by bill

- fixed suggested_host in suggest_kill_kline()


*** 20001208_2 by bill

- medium sized overhaul
- fixed link looker detection buffer overrun
- fixed local kill client exiting buffer overrun
- added CFLOOD action
  (for connect flooding drones which have been a problem lately)
- finalizing ircd-comstud compatibility modifications


*** 20001204_1 by bill

- added F lines (violation specific E lines)
- fixed parsing error with SQUIT/server disconnect msgs
- changed .locops source to (nick) rather than (nick@tcm)


*** 20001201_3 by bill

- more comstud stuff


*** 20001201_2 by bill

- working on comstud compatibility still


*** 20001201_1 by bill

- added more compatibility for ircd-comstud (hello ik!)


*** 20001110_2 by bill

Permission error, fixed.
Added a note to comstud users for making tcm work properly into tcm.cf


*** 20001110_1 by bill

Added support for ircd-comstud-1.11REL
 -Compatibility for different syntaxed messages (trace, client connects, etc)
 -Compatibility for non-numerical connection class identifications (and numerical still)
 -Updated wingate class code accordingly

Bumped version to 2.5.1


*** 20000930_1 by bill

changed comment for DETECT_DNS_SPOOFERS
turned DETECT_DNS_SPOOFERS off by default


*** 20000902_9 by db
- discovered I had a previously released 2.4.7, bumped to 2.5.0 again
  to reduce confusion.



*** 20000902_8 by db
- doc cleanups only, but I bumped the version # to reduce confusion.



*** 20000902_7 by db
Directory /cvsroot/tcm-hybrid/HISTORY added to the repository


*** 20000902_6 by lusky
cleaned up Makefiles and converted to autoconf


*** 20000902_5 by lusky
fixed SERIALNUM
started autoconf work
added .depend


*** 20000902_4 by lusky
Directory /cvsroot/tcm-hybrid/autoconf added to the repository


*** 20000902_3 by lusky
added SERIALNUM support


*** 20000902_2 by lusky
Directory /cvsroot/tcm-hybrid/include added to the repository


